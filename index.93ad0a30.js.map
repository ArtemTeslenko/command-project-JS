{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aCCAA,EAAA,S,+CCGA,IAAIC,EAAO,GACX,MAAMC,EAAcC,SAASC,cAAc,eAEpCC,eAAeC,EAAYC,GCH3B,IAAqBC,UDIRD,ECHDE,MAAM,uCAAoBD,8CAC3BE,MAAKC,IACnB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,KDFFL,MAAKM,IACzBf,EAAOe,EACAf,MAGT,EAAAgB,EAAAC,mBAAkBjB,GAElB,MAAMkB,GAAS,EAAAC,EAAAC,oBAAmBpB,GAClC,OAAQC,EAAYoB,UAAYH,C,CDT0B,SAAnDI,IACPC,EAAAC,KAAKC,WAAWC,UAAUC,IAAI,aAC9BJ,EAAAC,KAAKI,eAAeF,UAAUG,OAAO,aCW7B5B,EAAYoB,UAAY,E,CDNH,SAAtBS,EAAsBC,GACzBA,EAAEC,SAAWD,EAAEE,gBACjBV,EAAAC,KAAKC,WAAWC,UAAUC,IAAI,aAC9BJ,EAAAC,KAAKI,eAAeF,UAAUG,OAAO,a,CAMV,SAAtBK,EAAmBH,GAEpBA,EAAEI,KAENZ,EAAAC,KAAKI,eAAeF,UAAUG,OAAO,aACrCN,EAAAC,KAAKC,WAAWC,UAAUC,IAAI,aAC9BJ,EAAAC,KAAKY,OAAOC,oBAAoB,UAAWH,E,CAKtB,SAAhBI,EAAYP,GACnBR,EAAAC,KAAKC,WAAWC,UAAUG,OAAO,aACjCN,EAAAC,KAAKY,OAAOG,iBAAiB,UAAWL,GACxCX,EAAAC,KAAKI,eAAeF,UAAUC,IAAI,aAClCJ,EAAAC,KAAKC,WAAWc,iBAAiB,QAAST,GAC1CP,EAAAC,KAAKgB,cAAcD,iBAAiB,QAASjB,E,CAIIlB,eAApCqC,EAAqBV,GAClCA,EAAEW,iBACEX,EAAEC,OAAOW,QAAQ,4BACbtC,EAAY0B,EAAEC,OAAOW,QAAQ,oBAAoBrC,IACvDgC,I,CAIG,SAASM,EAAcC,GAC5BA,EAAIN,iBAAiB,QAASD,E,cG9ChC,SAASQ,EAAcC,GACrBA,EAAEL,iBAEFE,EAAcG,EAAEf,QAChBlC,EAAA0B,KAAKwB,UAAU3B,UCTR,86BDWP,MAAM4B,EAAgB/C,SAASC,cAAc,4BACvC+C,EAAchD,SAASC,cAAc,0BAE3C8C,EAAcV,iBAAiB,SAASR,IACtCA,EAAEW,iBACF5C,EAAA0B,KAAKC,WAAWC,UAAUyB,OAAO,YAAY,IAG/CD,EAAYX,iBAAiB,QAASa,E,CAGxC,SAASA,EAAiBC,GACxBA,EAAEX,iBAEF5C,EAAA0B,KAAKwB,UAAU3B,UCMR,u+BDJP,MAAM4B,EAAgB/C,SAASC,cAAc,4BACvC+C,EAAchD,SAASC,cAAc,0BAE3C8C,EAAcV,iBAAiB,SAASR,IACtCA,EAAEW,iBACF5C,EAAA0B,KAAKC,WAAWC,UAAUyB,OAAO,YAAY,IAG/CD,EAAYX,iBAAiB,QAASO,E,EApCxChD,EAAAC,EAAA,UAIAyB,KAAK8B,MAAMf,iBAAiB,QAASO,IJGrC,EAAA9B,EAAAuC,kBCiDEhC,EAAAC,KAAKgC,eAAejB,iBAAiB,QAASE,GD9ChDG,EAAc9C,EAAA0B,KAAKiC","sources":["src/index.js","src/js/modal/commonModalOpen.js","src/js/modal/markupFilmForodal.js","src/js/modal/fetchFilmId.js","src/js/controls/registrateUsers/openModalAuthUser/openModalAuthUser.js","src/js/controls/registrateUsers/markupModalReg/markupModalRegister.js"],"sourcesContent":["import { refs } from './js/reference/homeRefs.js';\nimport { trendsControls } from './js/controls';\nimport { onOpenModalFilm } from './js/modal';\nimport { modalTemplate } from './js/modal';\nimport { scrollToTop } from './js/controls';\nimport {} from './js/controls/registrateUsers';\n\ntrendsControls();\nonOpenModalFilm();\n// зразок функції для відкриття чистої модалки\nmodalTemplate(refs.footerBtn);\n","// import { testOnClickFetchFilmId } from '../modal'\nimport { refs } from '../../js/reference/homeRefs';\nimport { refs } from '../../js/reference/libraryRefs';\nimport { FetchFilmId } from '../modal';\nimport { clianFilmCard } from './markupFilmForodal';\n\n// функція закриває модалку (наприклад по кліку на кнопку) і очищає модалку clianFilmCard()\nfunction onClouseModal() {\n  refs.backdropEl.classList.add('is-hidden');\n  refs.bodyNoScrollEl.classList.remove('no-scroll');\n  clianFilmCard();\n}\n\n// функція закриває модалку по кліку на backdrop\nfunction onClouseModalBackdrop(e) {\n  if (e.target === e.currentTarget) {\n    refs.backdropEl.classList.add('is-hidden');\n    refs.bodyNoScrollEl.classList.remove('no-scroll');\n  }\n  return;\n}\n\n// функція закриває модалку по кліку на Escape\nfunction creatKeydownEscape(e) {\n  {\n    if (e.code === 'Escape') {\n    }\n    refs.bodyNoScrollEl.classList.remove('no-scroll');\n    refs.backdropEl.classList.add('is-hidden');\n    refs.bodyEl.removeEventListener('keydown', creatKeydownEscape);\n  }\n}\n\n// відкриває і закриває модалку\nfunction onOpenModal(e) {\n  refs.backdropEl.classList.remove('is-hidden');\n  refs.bodyEl.addEventListener('keydown', creatKeydownEscape);\n  refs.bodyNoScrollEl.classList.add('no-scroll');\n  refs.backdropEl.addEventListener('click', onClouseModalBackdrop);\n  refs.buttonCloseEl.addEventListener('click', onClouseModal);\n}\n\n// перевіряє умову відкриття модалки з рендером картки фільму\nasync function onEventListenerClick(e) {\n  e.preventDefault();\n  if (e.target.closest('.film-card__link')) {\n    await FetchFilmId(e.target.closest('.film-card__link').id);\n    onOpenModal();\n  }\n}\n// відкриває модалку (перевикористовувати)\nexport function modalTemplate(btn) {\n  btn.addEventListener('click', onOpenModal);\n}\n// відкриває модалку з рендером картки фільму\nexport function onOpenModalFilm() {\n  refs.filmsGalleryEl.addEventListener('click', onEventListenerClick);\n}\n","import { fetchFilmId } from './fetchFilmId';\nimport { markupBtnModalFilm } from '../markup';\nimport { addToLokalStorage } from '../controls';\n\nlet film = {};\nconst modalCardEl = document.querySelector('.modal-card');\n\nexport async function FetchFilmId(id) {\n  await fetchFilmId(id).then(respons => {\n    film = respons;\n    return film;\n  });\n\n  addToLokalStorage(film);\n\n  const marcup = markupBtnModalFilm(film);\n  return (modalCardEl.innerHTML = marcup);\n}\n\nexport function clianFilmCard() {\n  return (modalCardEl.innerHTML = '');\n}\n","const KEY = '45074c10b8f2ea3914a60876b2d17a1a';\nconst BASEURL = 'https://api.themoviedb.org/3/';\n\n// запит на картку фільму по id\nexport function fetchFilmId(movie_id) {\n  const arrFilms = fetch(`${BASEURL}/movie/${movie_id}?api_key=${KEY}`);\n  return arrFilms.then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import { refs } from '../../../reference/homeRefs';\nimport { modalTemplate } from '../../../modal';\nimport { renderModalAuthUsers, renderModalRegUsers } from '../index';\n\nrefs.logIn.addEventListener('click', openModalAuth);\n\nfunction openModalAuth(e) {\n  e.preventDefault();\n\n  modalTemplate(e.target);\n  refs.modalCard.innerHTML = renderModalAuthUsers();\n\n  const btnCloseModal = document.querySelector('.form-auth__button-close');\n  const btnRegUsers = document.querySelector('.form-auth__button-reg');\n\n  btnCloseModal.addEventListener('click', e => {\n    e.preventDefault();\n    refs.backdropEl.classList.toggle('is-hidden');\n  });\n\n  btnRegUsers.addEventListener('click', openModalReguser);\n}\n\nfunction openModalReguser(e) {\n  e.preventDefault();\n\n  refs.modalCard.innerHTML = renderModalRegUsers();\n\n  const btnCloseModal = document.querySelector('.form-auth__button-close');\n  const btnRegUsers = document.querySelector('.form-auth__button-reg');\n\n  btnCloseModal.addEventListener('click', e => {\n    e.preventDefault();\n    refs.backdropEl.classList.toggle('is-hidden');\n  });\n\n  btnRegUsers.addEventListener('click', openModalAuth);\n}\n","export function renderModalAuthUsers() {\n  return `\n  \n  <div class=\"form-auth\">\n      <button type=\"button\" class=\"form-auth__button-close\">\n      </button>\n      <h2 class=\"form-auth__title\">Login</h2>\n\n      <form class=\"form-auth__form-login\">\n        <div class=\"form-auth__user-box\">\n          <input type=\"text\" name=\"email\" class=\"form-auth__input\" />\n          <lable class=\"form-auth__lable\">Email</lable>\n        </div>\n\n        <div class=\"form-auth__user-box\">\n          <input type=\"password\" name=\"pass\" class=\"form-auth__input\" />\n          <lable class=\"form-auth__lable\">Password</lable>\n        </div>\n\n        <div class=\"form-auth__box-button-form\">\n          <button type=\"submit\" class=\"form-auth__btn-submit\">LogIn</button>\n          <div class=\"form-auth__registrate\">\n            Don't have an account?\n            <button class=\"form-auth__button-reg\">Register</button>\n          </div>\n        </div>\n      </form>\n      </div>\n      `;\n}\n\nexport function renderModalRegUsers() {\n  return `\n  <div class=\"backdrop-modal\">\n  <div class=\"form-auth\">\n      <button modal-close type=\"button\" class=\"form-auth__button-close\"></button>\n      <h2 class=\"form-auth__title\">Registration</h2>\n        \n        <form class=\"form-auth__form-login is-hidden\">\n        <div class=\"form-auth__user-box\">\n          <input type=\"text\" name=\"email\" class=\"form-auth__input\" />\n          <lable class=\"form-auth__lable\">Email</lable>\n        </div>\n\n        <div class=\"form-auth__user-box\">\n          <input type=\"password\" name=\"pass\" class=\"form-auth__input\" />\n          <lable class=\"form-auth__lable\">Password</lable>\n        </div>\n\n        <div class=\"form-auth__box-button-form\">\n          <button type=\"submit\" class=\"form-auth__btn-submit\">Register</button>\n          <div class=\"form-auth__registrate\">\n            Do have an account?\n            <button class=\"form-auth__button-reg\">Auth</button>\n          </div>\n        </div>\n      </form> \n    </div>\n    </div>`;\n}\n"],"names":["$dPn3b","parcelRequire","$61c079253e998c44$var$film","$61c079253e998c44$var$modalCardEl","document","querySelector","async","$61c079253e998c44$export$eb977ef7ffa021ce","id","movie_id","fetch","then","response","ok","Error","status","json","respons","$ffciR","addToLokalStorage","marcup","$6eyJa","markupBtnModalFilm","innerHTML","$008b226b4f7cc992$var$onClouseModal","$gBZUE","refs","backdropEl","classList","add","bodyNoScrollEl","remove","$008b226b4f7cc992$var$onClouseModalBackdrop","e","target","currentTarget","$008b226b4f7cc992$var$creatKeydownEscape","code","bodyEl","removeEventListener","$008b226b4f7cc992$var$onOpenModal","addEventListener","buttonCloseEl","$008b226b4f7cc992$var$onEventListenerClick","preventDefault","closest","$008b226b4f7cc992$export$dbb79f87ff4e57c4","btn","$6a3abb5d178c83c4$var$openModalAuth","e1","modalCard","btnCloseModal","btnRegUsers","toggle","$6a3abb5d178c83c4$var$openModalReguser","e2","logIn","trendsControls","filmsGalleryEl","footerBtn"],"version":3,"file":"index.93ad0a30.js.map"}