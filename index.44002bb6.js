function e(e,t){return Object.keys(t).forEach((function(n){"default"===n||"__esModule"===n||e.hasOwnProperty(n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})),e}function t(e,t){return fetch(`https://api.themoviedb.org/3/trending/${t}?api_key=894ef72300682f1db325dae2afe3e7e2&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}let n=[];function r(){fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>{n=e.genres})).catch((e=>console.log(e)));t(1,"movie/week").then((e=>{c(e,document.querySelector(".films-gallery"))}))}function o(e){let t=[];return e.forEach((e=>{t.push(n.find((t=>t.id===e)).name)})),t.length>2&&(t=t.slice(0,2),t.push("Other")),t}function i(e){return e.map((({original_title:e,release_date:t,genre_ids:n,poster_path:r})=>{let i=o(n);i.length>2&&(i=i.slice(0,2),i.push("Other")),i=i.join(", ");return`<div class="film-card">\n      <div class="film-card__img-box">\n        <a class="film-card__link link" href="">\n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/${r}"\n          alt=""\n        />\n        </a></div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ${e}\n          </h2>\n          <p class="film-card__data film-card__item">\n            ${i} | ${new Date(t).getFullYear()}\n          </p>\n        </div>\n      \n    </div>`})).join("")}function c(e,t){const n=i(e.results);t.insertAdjacentHTML("beforeend",n)}document.querySelector("main");const a=document.querySelector(".modal");var d,s,l,u,f={};d=f,s="onClick",l=function(){return v},Object.defineProperty(d,s,{get:l,set:u,enumerable:!0,configurable:!0});const m=document.querySelector(".backdrop"),h=(document.querySelector(".test"),document.querySelector(".modal-button")),_=document.querySelector("body");document.querySelector(".footer__btn");function b(e){m.classList.add("is-hidden")}function g(e){e.target===e.currentTarget&&m.classList.add("is-hidden")}function p(e){e.preventDefault(),m.classList.remove("is-hidden"),_.addEventListener("keydown",(function e(t){"Escape"===t.code&&(m.classList.add("is-hidden"),_.removeEventListener("keydown",e))}))}function v(e){e.addEventListener("click",p),h.addEventListener("click",b),m.addEventListener("click",g)}e(f,{}),e(f,{});const y=document.querySelector(".test");r(),v(y),a.insertAdjacentHTML("beforeend",'<button class="button">add to Watched</button>\n    <button class="button">add to queue</button>');
//# sourceMappingURL=index.44002bb6.js.map
