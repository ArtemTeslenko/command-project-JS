!function(){function e(e,n){return Object.keys(n).forEach((function(t){"default"===t||"__esModule"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})),e}function n(e,n){return fetch("".concat("https://api.themoviedb.org/3/trending/").concat(n,"?api_key=").concat("894ef72300682f1db325dae2afe3e7e2","&page=").concat(e)).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()}))}var t=[];function r(){fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){t=e.genres})).catch((function(e){return console.log(e)}));n(1,"movie/week").then((function(e){i(e,document.querySelector(".films-gallery"))}))}function c(e){var n=[];return e.forEach((function(e){n.push(t.find((function(n){return n.id===e})).name)})),n.length>2&&(n=n.slice(0,2)).push("Other"),n}function o(e){return e.map((function(e){var n=e.original_title,t=e.release_date,r=e.genre_ids,o=e.poster_path,i=c(r);i.length>2&&(i=i.slice(0,2)).push("Other"),i=i.join(", ");var a=new Date(t).getFullYear();return'<div class="film-card">\n      <div class="film-card__img-box">\n        <a class="film-card__link link" href="">\n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/'.concat(o,'"\n          alt=""\n        />\n        </a></div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ').concat(n,'\n          </h2>\n          <p class="film-card__data film-card__item">\n            ').concat(i," | ").concat(a,"\n          </p>\n        </div>\n      \n    </div>")})).join("")}function i(e,n){var t=o(e.results);n.insertAdjacentHTML("beforeend",t)}document.querySelector("main");var a=document.querySelector(".modal");var d,u,s,l,f={};d=f,u="onClick",s=function(){return p},Object.defineProperty(d,u,{get:s,set:l,enumerable:!0,configurable:!0});var m=document.querySelector(".backdrop"),h=(document.querySelector(".test"),document.querySelector(".modal-button")),v=document.querySelector("body");document.querySelector(".footer__btn");function _(e){m.classList.add("is-hidden")}function b(e){e.target===e.currentTarget&&m.classList.add("is-hidden")}function g(e){e.preventDefault(),m.classList.remove("is-hidden"),v.addEventListener("keydown",(function e(n){"Escape"===n.code&&(m.classList.add("is-hidden"),v.removeEventListener("keydown",e))}))}function p(e){e.addEventListener("click",g),h.addEventListener("click",_),m.addEventListener("click",b)}e(f,{}),e(f,{});var y=document.querySelector(".test");r(),p(y),a.insertAdjacentHTML("beforeend",'<button class="button">add to Watched</button>\n    <button class="button">add to queue</button>')}();
//# sourceMappingURL=index.05c61061.js.map
