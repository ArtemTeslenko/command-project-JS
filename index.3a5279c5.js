function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},o=t.parcelRequire8f96;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){i[e]=t},t.parcelRequire8f96=o),o.register("kyEFX",(function(t,n){var i,o;e(t.exports,"register",(function(){return i}),(function(e){return i=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var l={};i=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)l[t[n]]=e[t[n]]},o=function(e){var t=l[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o.register("gqZwz",(function(e,t){e.exports=new URL(o("kyEFX").resolve("dWPdL"),import.meta.url).toString()})),o.register("cfERB",(function(e,t){e.exports=new URL(o("kyEFX").resolve("1WDdE"),import.meta.url).toString()})),o("kyEFX").register(JSON.parse('{"5ZPII":"index.3a5279c5.js","dWPdL":"arrow-left.2b7bce11.svg","1WDdE":"arrow-right.91990ac8.svg"}'));const l={bodyEl:document.querySelector("body"),mainEl:document.querySelector("main"),logoEl:document.querySelector(".header-logo"),backdropEl:document.querySelector(".backdrop"),buttonCloseEl:document.querySelector(".modal__button"),bodyNoScrollEl:document.querySelector("[data-nonScroll]"),galleryEl:document.querySelector(".films-gallery"),paginationEl:document.querySelector(".pagination"),scrollBtnEl:document.querySelector(".arrow-up"),filmCardLinkEl:document.querySelector(".film-card__link"),filmsGalleryEl:document.querySelector(".films-gallery"),footerBtn:document.querySelector(".footer__btn")};function a(e,t,n){return`https://api.themoviedb.org/3/trending/${t}/${n}?api_key=894ef72300682f1db325dae2afe3e7e2&page=${e}`}function r(e,t,n){return fetch(a(e,t,n)).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}function s(e){let t=[];return e.forEach((e=>{t.push(p.find((t=>t.id===e)).name)})),t}function c(e){return e.map((({original_title:e,release_date:t,genre_ids:n,poster_path:i,id:o})=>{let l=s(n);l.length>2&&(l=l.slice(0,2),l.push("Other")),l=l.join(", ");return`<div class="film-card">\n      <a class="film-card__link link" href="" id="${o}">\n      <div class="film-card__img-box">\n        \n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/${i}"\n          alt=""\n          \n        />\n        </div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ${e}\n          </h2>\n          <p class="film-card__data film-card__item">\n            ${l} | ${new Date(t).getFullYear()}\n          </p>\n        </div>\n      </a>\n    </div>`})).join("")}function d(e,t){const n=c(e.results);t.insertAdjacentHTML("beforeend",n)}function u(e,t){e<6&&(l.paginationEl.classList.contains("item--hidden-mob--2")&&l.paginationEl.classList.remove("item--hidden-mob--2"),l.paginationEl.classList.contains("item--hidden-mob--3")&&l.paginationEl.classList.remove("item--hidden-mob--3"),l.paginationEl.classList.add("item--hidden-mob--1")),e>=6&&e<=t-5&&(l.paginationEl.classList.contains("item--hidden-mob--1")&&l.paginationEl.classList.remove("item--hidden-mob--1"),l.paginationEl.classList.contains("item--hidden-mob--3")&&l.paginationEl.classList.remove("item--hidden-mob--3"),l.paginationEl.classList.add("item--hidden-mob--2")),e>t-5&&(l.paginationEl.classList.contains("item--hidden-mob--1")&&l.paginationEl.classList.remove("item--hidden-mob--1"),l.paginationEl.classList.contains("item--hidden-mob--2")&&l.paginationEl.classList.remove("item--hidden-mob--2"),l.paginationEl.classList.add("item--hidden-mob--3"))}function m(e,t,n,i){let l=[],r=[],s="";if(t<=6){for(let e=1;e<=7;e++)l.push(e),r.push(e);l.push("..."),r.push(8),l.push(e),r.push(e),u(t,e)}if(t>6&&t<e-5){l.push(1),r.push(1),l.push("..."),r.push(t-3);for(let e=t-2;e<=t+2;e++)l.push(e),r.push(e);l.push("..."),r.push(t+3),l.push(e),r.push(e),u(t,e)}if(t>=e-5){l.push(1),r.push(1),l.push("..."),r.push(e-7);for(let n=-6;n<=0;n++)l.push(e+n),r.push(e+n),u(t,e)}let c=0;l.forEach((e=>{c+=1;let o=e===t?"pagination__item--active":"";s+=`<li class="pagination__item item${c}"><a data-page="${r[c-1]}" href="${a(r[c-1],n,i)}" class="link pagination__link ${o} ">${e}</a></li>`}));const d=o("gqZwz"),m=o("cfERB");return`<button class="btn--decrement" data-page="${t-1}" type="button"><img src="${d}" data-page="${t-1}" class="pagination__icon"  width="20" height="20"\n      alt="selectedItem"></button>\n        <div class="pagination__wrap">\n        <ul class="pagination__list list">\n        ${s} </ul>\n        </div>\n         <button class="btn--increment" data-page="${t+1}" type="button" >\n    <img src="${m}" class="pagination__icon" data-page="${t+1} "width="20" height="20"></button>`}let p=[];function f(){window.scrollY>700?l.scrollBtnEl.classList.remove("isHiddenBtn"):window.scrollY<700&&l.scrollBtnEl.classList.add("isHiddenBtn")}function g(){window.scrollTo(0,0)}const h={loadMoreBtnEl:document.querySelector(".load-more-btn"),bodyEl:document.querySelector("body"),backdropEl:document.querySelector(".backdrop"),buttonCloseEl:document.querySelector(".modal__button"),bodyNoScrollEl:document.querySelector("[data-nonScroll]"),filmCardLinkEl:document.querySelector(".film-card__link"),filmsGalleryEl:document.querySelector(".films-gallery"),footerBtn:document.querySelector(".footer__btn")};let b={};const E=document.querySelector(".modal-card");async function _(e){var t;await(t=e,fetch(`https://api.themoviedb.org/3//movie/${t}?api_key=45074c10b8f2ea3914a60876b2d17a1a`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))).then((e=>(b=e,b)));const n=`<img class="modal-card__img"\n     src="https://www.themoviedb.org/t/p/w500/${(i=b).poster_path}"\n     alt=""\n     id=""\n    />\n    <div class="modal-card__info">\n     <h2>${i.title}</h2>\n     <div class="table">\n     <ul class="table__parametr">\n       <li class="list">Vote/Votes </li>\n       <li class="list">Popularity </li>\n       <li class="list">Original Title </li>\n     </ul>\n         <ul class="table__value">\n       <li class="list"><span>${i.vote_average}</span>/<span>${i.vote_count}</span></li>\n       <li class="list">${i.popularity}</li>\n       <li class="list">${i.original_title}</li>\n     </ul>\n     </div>\n     <p>\n       <h3>About</h3>\n       <div>${i.overview}</div>\n     </p>\n     <button class="button">add to Watched</button>\n     <button class="button">add to queue</button>\n      </div>`;var i;return E.innerHTML=n}function v(e){h.backdropEl.classList.add("is-hidden"),h.bodyNoScrollEl.classList.remove("no-scroll"),E.innerHTML=""}function y(e){e.target===e.currentTarget&&(h.backdropEl.classList.add("is-hidden"),h.bodyNoScrollEl.classList.remove("no-scroll"))}function w(e){h.backdropEl.classList.remove("is-hidden"),h.bodyEl.addEventListener("keydown",(function e(t){t.code,h.backdropEl.classList.add("is-hidden"),h.bodyEl.removeEventListener("keydown",e)})),h.bodyNoScrollEl.classList.toggle("no-scroll"),h.backdropEl.addEventListener("click",y),h.buttonCloseEl.addEventListener("click",v)}function L(e){e.preventDefault(),e.target.closest(".film-card__link")&&(_(e.target.closest(".film-card__link").id),w())}!function(){function e(e){r(e,"movie","week").then((e=>{if(d(e,l.galleryEl),e.total_pages>1){const t=m(Number(e.total_pages),Number(e.page),"movie","week");l.paginationEl.innerHTML=t}}))}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>{p=e.genres})).catch((e=>console.log(e))),e(1),l.paginationEl.addEventListener("click",(t=>{t.preventDefault(),l.galleryEl.innerHTML="",e(t.target.dataset.page)}))}(),h.filmsGalleryEl.addEventListener("click",L),l.footerBtn.addEventListener("click",w),window.addEventListener("scroll",f),l.scrollBtnEl.addEventListener("click",g);
//# sourceMappingURL=index.3a5279c5.js.map
