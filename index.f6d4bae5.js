function e(e,t){return Object.keys(t).forEach((function(n){"default"===n||"__esModule"===n||e.hasOwnProperty(n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})),e}function t(e){return fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=894ef72300682f1db325dae2afe3e7e2&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>a(e)))}let n=[];function r(){fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>{n=e.genres})).catch((e=>console.log(e))),t(1)}function o(e){let t=[];return e.forEach((e=>{t.push(n.find((t=>t.id===e)).name)})),t.length>2&&(t=t.slice(0,2),t.push("Other")),t}function i(e){return e.map((({original_title:e,release_date:t,genre_ids:n,poster_path:r})=>{let i=o(n);i=i.join(", ");return`<div class="film-card">\n      <div class="film-card__img-box">\n        <a class="film-card__link link" href="">\n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/${r}"\n          alt=""\n        />\n        </a></div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ${e}\n          </h2>\n          <p class="film-card__data film-card__item">\n            ${i} | ${new Date(t).getFullYear()}\n          </p>\n        </div>\n      \n    </div>`})).join("")}const c=document.querySelector(".films-gallery");function a(e){const t=i(e.results);c.insertAdjacentHTML("beforeend",t)}document.querySelector("main");const d=document.querySelector(".modal");var s,l,u,f,m={};s=m,l="onClick",u=function(){return y},Object.defineProperty(s,l,{get:u,set:f,enumerable:!0,configurable:!0});const h=document.querySelector(".backdrop"),_=(document.querySelector(".test"),document.querySelector(".modal-button")),b=document.querySelector("body");function g(e){h.classList.add("is-hidden")}function p(e){e.target===e.currentTarget&&h.classList.add("is-hidden")}function v(e){e.preventDefault(),h.classList.remove("is-hidden"),b.addEventListener("keydown",(function e(t){"Escape"===t.code&&(h.classList.add("is-hidden"),b.removeEventListener("keydown",e))}))}function y(e){e.addEventListener("click",v),_.addEventListener("click",g),h.addEventListener("click",p)}e(m,{}),e(m,{});const k=document.querySelector(".test");r(),y(k),d.insertAdjacentHTML("beforeend",'<button class="button">add to Watched</button>\n    <button class="button">add to queue</button>');
//# sourceMappingURL=index.f6d4bae5.js.map
