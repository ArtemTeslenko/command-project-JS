function t(t,e,n,a){Object.defineProperty(t,e,{get:n,set:a,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=e.parcelRequire8f96;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(t,e){a[t]=e},e.parcelRequire8f96=o),o.register("kyEFX",(function(e,n){var a,o;t(e.exports,"register",(function(){return a}),(function(t){return a=t})),t(e.exports,"resolve",(function(){return o}),(function(t){return o=t}));var l={};a=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)l[e[n]]=t[e[n]]},o=function(t){var e=l[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),o.register("gqZwz",(function(t,e){t.exports=new URL(o("kyEFX").resolve("dWPdL"),import.meta.url).toString()})),o.register("cfERB",(function(t,e){t.exports=new URL(o("kyEFX").resolve("1WDdE"),import.meta.url).toString()})),o("kyEFX").register(JSON.parse('{"5ZPII":"index.47e16643.js","dWPdL":"arrow-left.2b7bce11.svg","1WDdE":"arrow-right.91990ac8.svg"}'));const l={bodyEl:document.querySelector("body"),mainEl:document.querySelector("main"),logoEl:document.querySelector(".header-logo"),backdropEl:document.querySelector(".backdrop"),buttonCloseEl:document.querySelector(".modal__button"),bodyNoScrollEl:document.querySelector("[data-nonScroll]"),logIn:document.querySelector("#logIn"),logOut:document.querySelector("#logOut"),btnNotAuth:document.querySelector(".btnNotAuth"),btnAuth:document.querySelector(".btnAuth"),modalCard:document.querySelector(".modal-card"),galleryEl:document.querySelector(".films-gallery"),paginationEl:document.querySelector(".pagination"),scrollBtnEl:document.querySelector(".arrow-up"),filmCardLinkEl:document.querySelector(".film-card__link"),filmsGalleryEl:document.querySelector(".films-gallery"),footerBtn:document.querySelector(".footer__btn")};function i(t,e,n){return`https://api.themoviedb.org/3/trending/${e}/${n}?api_key=894ef72300682f1db325dae2afe3e7e2&page=${t}`}function s(t,e,n){return fetch(i(t,e,n)).then((t=>{if(!t.ok)throw new Error(t.status);return t.json()}))}function r(t){let e=[];return t.forEach((t=>{e.push(p.find((e=>e.id===t)).name)})),e}function c(t){return t.map((({original_title:t,release_date:e,genre_ids:n,poster_path:a,id:o})=>{let l=r(n);l.length>2&&(l=l.slice(0,2),l.push("Other")),l=l.join(", ");return`<div class="film-card">\n      <a class="film-card__link link" href="" id="${o}">\n      <div class="film-card__img-box">\n        \n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/${a}"\n          alt=""\n          \n        />\n        </div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ${t}\n          </h2>\n          <p class="film-card__data film-card__item">\n            ${l} | ${new Date(e).getFullYear()}\n          </p>\n        </div>\n      </a>\n    </div>`})).join("")}function d(t,e){const n=c(t.results);e.insertAdjacentHTML("beforeend",n)}function u(t,e){t<6&&(l.paginationEl.classList.contains("item--hidden-mob--2")&&l.paginationEl.classList.remove("item--hidden-mob--2"),l.paginationEl.classList.contains("item--hidden-mob--3")&&l.paginationEl.classList.remove("item--hidden-mob--3"),l.paginationEl.classList.add("item--hidden-mob--1")),t>=6&&t<=e-5&&(l.paginationEl.classList.contains("item--hidden-mob--1")&&l.paginationEl.classList.remove("item--hidden-mob--1"),l.paginationEl.classList.contains("item--hidden-mob--3")&&l.paginationEl.classList.remove("item--hidden-mob--3"),l.paginationEl.classList.add("item--hidden-mob--2")),t>e-5&&(l.paginationEl.classList.contains("item--hidden-mob--1")&&l.paginationEl.classList.remove("item--hidden-mob--1"),l.paginationEl.classList.contains("item--hidden-mob--2")&&l.paginationEl.classList.remove("item--hidden-mob--2"),l.paginationEl.classList.add("item--hidden-mob--3"))}function m(t,e,n,a){let l=[],s=[],r="";if(e<=6){for(let t=1;t<=7;t++)l.push(t),s.push(t);l.push("..."),s.push(8),l.push(t),s.push(t),u(e,t)}if(e>6&&e<t-5){l.push(1),s.push(1),l.push("..."),s.push(e-3);for(let t=e-2;t<=e+2;t++)l.push(t),s.push(t);l.push("..."),s.push(e+3),l.push(t),s.push(t),u(e,t)}if(e>=t-5){l.push(1),s.push(1),l.push("..."),s.push(t-7);for(let n=-6;n<=0;n++)l.push(t+n),s.push(t+n),u(e,t)}let c=0;l.forEach((t=>{c+=1;let o=t===e?"pagination__item--active":"";r+=`<li class="pagination__item item${c}"><a data-page="${s[c-1]}" href="${i(s[c-1],n,a)}" class="link pagination__link ${o} ">${t}</a></li>`}));const d=o("gqZwz"),m=o("cfERB");return`<button class="btn--decrement" data-page="${e-1}" type="button"><img src="${d}" data-page="${e-1}" class="pagination__icon"  width="20" height="20"\n      alt="selectedItem"></button>\n        <div class="pagination__wrap">\n        <ul class="pagination__list list">\n        ${r} </ul>\n        </div>\n         <button class="btn--increment" data-page="${e+1}" type="button" >\n    <img src="${m}" class="pagination__icon" data-page="${e+1} "width="20" height="20"></button>`}let p=[];const _={loadMoreBtnEl:document.querySelector(".load-more-btn"),bodyEl:document.querySelector("body"),backdropEl:document.querySelector(".backdrop"),buttonCloseEl:document.querySelector(".modal__button"),bodyNoScrollEl:document.querySelector("[data-nonScroll]"),filmCardLinkEl:document.querySelector(".film-card__link"),filmsGalleryEl:document.querySelector(".films-gallery"),footerBtn:document.querySelector(".footer__btn")};function b(t){const e=t.genres.map((t=>t.name)).join(", ");return`<img class="modal-card__img"\n     src="https://www.themoviedb.org/t/p/w500/${t.poster_path}"\n     alt=""\n     id=""\n    />\n    <div class="modal-card__info">\n     <h2 class="modal-card__title">${t.title.toUpperCase()}</h2>\n     <div class="table">\n     <ul class="table__parametr">\n       <li class="table__parametr-list list">Vote/Votes </li>\n       <li class="table__parametr-list list">Popularity </li>\n       <li class="table__parametr-list list">Original Title </li>\n       <li class="table__parametr-list list">Genre</li>\n     </ul>\n\n         <ul class="table__value">\n       <li class="table__value-list list"><span class="table__span-value">${t.vote_average}</span class="table__value-slash">/<span>${t.vote_count}</span></li>\n       <li class="table__value-list list">${t.popularity}</li>\n       <li class="table__value-list table-text list">${t.original_title.toUpperCase()}</li>\n       <li class="table__value-list table-text list">${e}</li>\n     </ul>\n     </div>\n     <p>\n       <h3 class="about">ABOUT</h3>\n       <div class="about-text">${t.overview}</div>\n     </p>\n     <div class="button-add">\n     <button class="button-add__watched button">add to Watched</button>\n     <button class="button-add__queue button">add to queue</button>\n      </div>\n     </div>`}let f={};const h=document.querySelector(".modal-card");async function g(t){var e;await(e=t,fetch(`https://api.themoviedb.org/3//movie/${e}?api_key=45074c10b8f2ea3914a60876b2d17a1a`).then((t=>{if(!t.ok)throw new Error(t.status);return t.json()}))).then((t=>(f=t,f)));const n=b(f);return h.innerHTML=n}function v(){_.backdropEl.classList.add("is-hidden"),_.bodyNoScrollEl.classList.remove("no-scroll"),h.innerHTML=""}function E(t){t.target===t.currentTarget&&(_.backdropEl.classList.add("is-hidden"),_.bodyNoScrollEl.classList.remove("no-scroll"))}function y(t){t.code,_.bodyNoScrollEl.classList.remove("no-scroll"),_.backdropEl.classList.add("is-hidden"),_.bodyEl.removeEventListener("keydown",y)}function L(t){_.backdropEl.classList.remove("is-hidden"),_.bodyEl.addEventListener("keydown",y),_.bodyNoScrollEl.classList.add("no-scroll"),_.backdropEl.addEventListener("click",E),_.buttonCloseEl.addEventListener("click",v)}async function k(t){t.preventDefault(),t.target.closest(".film-card__link")&&(await g(t.target.closest(".film-card__link").id),L())}function w(t){t.addEventListener("click",L)}function S(t){t.preventDefault(),w(t.target),l.modalCard.innerHTML='\n  \n  <div class="form-auth">\n      <button type="button" class="form-auth__button-close">\n      </button>\n      <h2 class="form-auth__title">Login</h2>\n\n      <form class="form-auth__form-login">\n        <div class="form-auth__user-box">\n          <input type="text" name="email" class="form-auth__input" />\n          <lable class="form-auth__lable">Email</lable>\n        </div>\n\n        <div class="form-auth__user-box">\n          <input type="password" name="pass" class="form-auth__input" />\n          <lable class="form-auth__lable">Password</lable>\n        </div>\n\n        <div class="form-auth__box-button-form">\n          <button type="submit" class="form-auth__btn-submit">LogIn</button>\n          <div class="form-auth__registrate">\n            Don\'t have an account?\n            <button class="form-auth__button-reg">Register</button>\n          </div>\n        </div>\n      </form>\n      </div>\n      ';const e=document.querySelector(".form-auth__button-close"),n=document.querySelector(".form-auth__button-reg");e.addEventListener("click",(t=>{t.preventDefault(),l.backdropEl.classList.toggle("is-hidden")})),n.addEventListener("click",q)}function q(t){t.preventDefault(),l.modalCard.innerHTML='\n  <div class="backdrop-modal">\n  <div class="form-auth">\n      <button modal-close type="button" class="form-auth__button-close"></button>\n      <h2 class="form-auth__title">Registration</h2>\n        \n        <form class="form-auth__form-login is-hidden">\n        <div class="form-auth__user-box">\n          <input type="text" name="email" class="form-auth__input" />\n          <lable class="form-auth__lable">Email</lable>\n        </div>\n\n        <div class="form-auth__user-box">\n          <input type="password" name="pass" class="form-auth__input" />\n          <lable class="form-auth__lable">Password</lable>\n        </div>\n\n        <div class="form-auth__box-button-form">\n          <button type="submit" class="form-auth__btn-submit">Register</button>\n          <div class="form-auth__registrate">\n            Do have an account?\n            <button class="form-auth__button-reg">Auth</button>\n          </div>\n        </div>\n      </form> \n    </div>\n    </div>';const e=document.querySelector(".form-auth__button-close"),n=document.querySelector(".form-auth__button-reg");e.addEventListener("click",(t=>{t.preventDefault(),l.backdropEl.classList.toggle("is-hidden")})),n.addEventListener("click",S)}l.logIn.addEventListener("click",S),function(){function t(t){s(t,"movie","week").then((t=>{if(d(t,l.galleryEl),t.total_pages>1){const e=m(Number(t.total_pages),Number(t.page),"movie","week");l.paginationEl.innerHTML=e}}))}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((t=>{if(!t.ok)throw new Error(t.status);return t.json()})).then((t=>{p=t.genres})).catch((t=>console.log(t))),t(1),l.paginationEl.addEventListener("click",(e=>{e.preventDefault(),l.galleryEl.innerHTML="",t(e.target.dataset.page)}))}(),_.filmsGalleryEl.addEventListener("click",k),w(l.footerBtn);
//# sourceMappingURL=index.47e16643.js.map
