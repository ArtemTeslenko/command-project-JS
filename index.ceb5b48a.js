const e={bodyEl:document.querySelector("body"),mainEl:document.querySelector("main"),logoEl:document.querySelector(".header-logo"),backdropEl:document.querySelector(".backdrop"),buttonCloseEl:document.querySelector(".modal__button"),bodyNoScrollEl:document.querySelector("[data-nonScroll]"),scrollBtnEl:document.querySelector(".arrow-up"),filmCardLinkEl:document.querySelector(".film-card__link"),filmsGalleryEl:document.querySelector(".films-gallery"),footerBtn:document.querySelector(".footer__btn")};function t(e){let t=[];return e.forEach((e=>{t.push(n.find((t=>t.id===e)).name)})),t.length>2&&(t=t.slice(0,2),t.push("Other")),t}function l(e){return e.map((({original_title:e,release_date:l,genre_ids:n,poster_path:o,id:r})=>{let i=t(n);i.length>2&&(i=i.slice(0,2),i.push("Other")),i=i.join(", ");return`<div class="film-card">\n      <a class="film-card__link link" href="" id="${r}">\n      <div class="film-card__img-box">\n        \n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/${o}"\n          alt=""\n          \n        />\n        </div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ${e}\n          </h2>\n          <p class="film-card__data film-card__item">\n            ${i} | ${new Date(l).getFullYear()}\n          </p>\n        </div>\n      </a>\n    </div>`})).join("")}let n=[];function o(){window.scrollY>700?e.scrollBtnEl.classList.remove("isHiddenBtn"):window.scrollY<700&&e.scrollBtnEl.classList.add("isHiddenBtn")}function r(){window.scrollTo(0,0)}const i={loadMoreBtnEl:document.querySelector(".load-more-btn"),bodyEl:document.querySelector("body"),backdropEl:document.querySelector(".backdrop"),buttonCloseEl:document.querySelector(".modal__button"),bodyNoScrollEl:document.querySelector("[data-nonScroll]"),filmCardLinkEl:document.querySelector(".film-card__link"),filmsGalleryEl:document.querySelector(".films-gallery"),footerBtn:document.querySelector(".footer__btn")};let c={};const a=document.querySelector(".modal-card");async function s(e){var t;await(t=e,fetch(`https://api.themoviedb.org/3//movie/${t}?api_key=45074c10b8f2ea3914a60876b2d17a1a`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))).then((e=>(c=e,c)));const l=`<img class="modal-card__img"\n     src="https://www.themoviedb.org/t/p/w500/${(n=c).poster_path}"\n     alt=""\n     id=""\n    />\n    <div class="modal-card__info">\n     <h2>${n.title}</h2>\n     <div class="table">\n     <ul class="table__parametr">\n       <li class="list">Vote/Votes </li>\n       <li class="list">Popularity </li>\n       <li class="list">Original Title </li>\n     </ul>\n         <ul class="table__value">\n       <li class="list"><span>${n.vote_average}</span>/<span>${n.vote_count}</span></li>\n       <li class="list">${n.popularity}</li>\n       <li class="list">${n.original_title}</li>\n     </ul>\n     </div>\n     <p>\n       <h3>About</h3>\n       <div>${n.overview}</div>\n     </p>\n     <button class="button">add to Watched</button>\n     <button class="button">add to queue</button>\n      </div>`;var n;return a.innerHTML=l}function d(e){i.backdropEl.classList.add("is-hidden"),i.bodyNoScrollEl.classList.remove("no-scroll"),a.innerHTML=""}function u(e){e.target===e.currentTarget&&(i.backdropEl.classList.add("is-hidden"),i.bodyNoScrollEl.classList.remove("no-scroll"))}function m(e){i.backdropEl.classList.remove("is-hidden"),i.bodyEl.addEventListener("keydown",(function e(t){t.code,i.backdropEl.classList.add("is-hidden"),i.bodyEl.removeEventListener("keydown",e)})),i.bodyNoScrollEl.classList.toggle("no-scroll"),i.backdropEl.addEventListener("click",u),i.buttonCloseEl.addEventListener("click",d)}function f(e){e.preventDefault(),e.target.closest(".film-card__link")&&(s(e.target.closest(".film-card__link").id),m())}var _,b;fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>{n=e.genres})).catch((e=>console.log(e))),(_=1,b="movie/week",fetch(`https://api.themoviedb.org/3/trending/${b}?api_key=894ef72300682f1db325dae2afe3e7e2&page=${_}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))).then((e=>{!function(e,t){const n=l(e.results);t.insertAdjacentHTML("beforeend",n)}(e,document.querySelector(".films-gallery"))})),i.filmsGalleryEl.addEventListener("click",f),e.footerBtn.addEventListener("click",m),window.addEventListener("scroll",o),e.scrollBtnEl.addEventListener("click",r);
//# sourceMappingURL=index.ceb5b48a.js.map
