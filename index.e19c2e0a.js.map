{"mappings":"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","sources":["src/index.js","src/js/modal/commonModalOpen.js","src/js/modal/markupFilmForodal.js","src/js/modal/fetchFilmId.js","src/js/controls/registrateUsers/openModalAuthUser/openModalAuthUser.js","src/js/controls/registrateUsers/markupModalReg/markupModalRegister.js"],"sourcesContent":["import { refs } from './js/reference/homeRefs.js';\nimport { trendsControls } from './js/controls';\nimport { onOpenModalFilm } from './js/modal';\nimport { modalTemplate } from './js/modal';\nimport { scrollToTop } from './js/controls';\nimport {} from './js/controls/registrateUsers';\n\ntrendsControls();\nonOpenModalFilm();\n// зразок функції для відкриття чистої модалки\nmodalTemplate(refs.footerBtn);\n","// import { testOnClickFetchFilmId } from '../modal'\nimport { refs } from '../../js/reference/homeRefs';\nimport { refs } from '../../js/reference/libraryRefs';\nimport { FetchFilmId } from '../modal';\nimport { clianFilmCard } from './markupFilmForodal';\n\n// функція закриває модалку (наприклад по кліку на кнопку) і очищає модалку clianFilmCard()\nfunction onClouseModal() {\n  refs.backdropEl.classList.add('is-hidden');\n  refs.bodyNoScrollEl.classList.remove('no-scroll');\n  clianFilmCard();\n}\n\n// функція закриває модалку по кліку на backdrop\nfunction onClouseModalBackdrop(e) {\n  if (e.target === e.currentTarget) {\n    refs.backdropEl.classList.add('is-hidden');\n    refs.bodyNoScrollEl.classList.remove('no-scroll');\n  }\n  return;\n}\n\n// функція закриває модалку по кліку на Escape\nfunction creatKeydownEscape(e) {\n  {\n    if (e.code === 'Escape') {\n    }\n    refs.bodyNoScrollEl.classList.remove('no-scroll');\n    refs.backdropEl.classList.add('is-hidden');\n    refs.bodyEl.removeEventListener('keydown', creatKeydownEscape);\n  }\n}\n\n// відкриває і закриває модалку\nfunction onOpenModal(e) {\n  refs.backdropEl.classList.remove('is-hidden');\n  refs.bodyEl.addEventListener('keydown', creatKeydownEscape);\n  refs.bodyNoScrollEl.classList.add('no-scroll');\n  refs.backdropEl.addEventListener('click', onClouseModalBackdrop);\n  refs.buttonCloseEl.addEventListener('click', onClouseModal);\n}\n\n// перевіряє умову відкриття модалки з рендером картки фільму\nasync function onEventListenerClick(e) {\n  e.preventDefault();\n  if (e.target.closest('.film-card__link')) {\n    await FetchFilmId(e.target.closest('.film-card__link').id);\n    onOpenModal();\n  }\n}\n// відкриває модалку (перевикористовувати)\nexport function modalTemplate(btn) {\n  btn.addEventListener('click', onOpenModal);\n}\n// відкриває модалку з рендером картки фільму\nexport function onOpenModalFilm() {\n  refs.filmsGalleryEl.addEventListener('click', onEventListenerClick);\n}\n","import { fetchFilmId } from './fetchFilmId';\nimport { markupBtnModalFilm } from '../markup';\nimport { addToLokalStorage } from '../controls';\n\nlet film = {};\nconst modalCardEl = document.querySelector('.modal-card');\n\nexport async function FetchFilmId(id) {\n  await fetchFilmId(id).then(respons => {\n    film = respons;\n    return film;\n  });\n\n  addToLokalStorage(film);\n\n  const marcup = markupBtnModalFilm(film);\n  return (modalCardEl.innerHTML = marcup);\n}\n\nexport function clianFilmCard() {\n  return (modalCardEl.innerHTML = '');\n}\n","const KEY = '45074c10b8f2ea3914a60876b2d17a1a';\nconst BASEURL = 'https://api.themoviedb.org/3/';\n\n// запит на картку фільму по id\nexport function fetchFilmId(movie_id) {\n  const arrFilms = fetch(`${BASEURL}/movie/${movie_id}?api_key=${KEY}`);\n  return arrFilms.then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import { refs } from '../../../reference/homeRefs';\nimport { modalTemplate } from '../../../modal';\nimport { renderModalAuthUsers, renderModalRegUsers } from '../index';\n\nrefs.logIn.addEventListener('click', openModalAuth);\n\nfunction openModalAuth(e) {\n  e.preventDefault();\n\n  modalTemplate(e.target);\n  refs.modalCard.innerHTML = renderModalAuthUsers();\n\n  const btnCloseModal = document.querySelector('.form-auth__button-close');\n  const btnRegUsers = document.querySelector('.form-auth__button-reg');\n\n  btnCloseModal.addEventListener('click', e => {\n    e.preventDefault();\n    refs.backdropEl.classList.toggle('is-hidden');\n  });\n\n  btnRegUsers.addEventListener('click', openModalReguser);\n}\n\nfunction openModalReguser(e) {\n  e.preventDefault();\n\n  refs.modalCard.innerHTML = renderModalRegUsers();\n\n  const btnCloseModal = document.querySelector('.form-auth__button-close');\n  const btnRegUsers = document.querySelector('.form-auth__button-reg');\n\n  btnCloseModal.addEventListener('click', e => {\n    e.preventDefault();\n    refs.backdropEl.classList.toggle('is-hidden');\n  });\n\n  btnRegUsers.addEventListener('click', openModalAuth);\n}\n","export function renderModalAuthUsers() {\n  return `\n  \n  <div class=\"form-auth\">\n      <button type=\"button\" class=\"form-auth__button-close\">\n      </button>\n      <h2 class=\"form-auth__title\">Login</h2>\n\n      <form class=\"form-auth__form-login\">\n        <div class=\"form-auth__user-box\">\n          <input type=\"text\" name=\"email\" class=\"form-auth__input\" />\n          <lable class=\"form-auth__lable\">Email</lable>\n        </div>\n\n        <div class=\"form-auth__user-box\">\n          <input type=\"password\" name=\"pass\" class=\"form-auth__input\" />\n          <lable class=\"form-auth__lable\">Password</lable>\n        </div>\n\n        <div class=\"form-auth__box-button-form\">\n          <button type=\"submit\" class=\"form-auth__btn-submit\">LogIn</button>\n          <div class=\"form-auth__registrate\">\n            Don't have an account?\n            <button class=\"form-auth__button-reg\">Register</button>\n          </div>\n        </div>\n      </form>\n      </div>\n      `;\n}\n\nexport function renderModalRegUsers() {\n  return `\n  <div class=\"backdrop-modal\">\n  <div class=\"form-auth\">\n      <button modal-close type=\"button\" class=\"form-auth__button-close\"></button>\n      <h2 class=\"form-auth__title\">Registration</h2>\n        \n        <form class=\"form-auth__form-login is-hidden\">\n        <div class=\"form-auth__user-box\">\n          <input type=\"text\" name=\"email\" class=\"form-auth__input\" />\n          <lable class=\"form-auth__lable\">Email</lable>\n        </div>\n\n        <div class=\"form-auth__user-box\">\n          <input type=\"password\" name=\"pass\" class=\"form-auth__input\" />\n          <lable class=\"form-auth__lable\">Password</lable>\n        </div>\n\n        <div class=\"form-auth__box-button-form\">\n          <button type=\"submit\" class=\"form-auth__btn-submit\">Register</button>\n          <div class=\"form-auth__registrate\">\n            Do have an account?\n            <button class=\"form-auth__button-reg\">Auth</button>\n          </div>\n        </div>\n      </form> \n    </div>\n    </div>`;\n}\n"],"names":["$51gX1","parcelRequire","$bpxeT","$2a623a46df5cabbc$export$68fa8072f5c4d2dd","movie_id","fetch","concat","then","response","ok","Error","status","json","$0eaaae2418585005$var$film","$0eaaae2418585005$var$modalCardEl","document","querySelector","$0eaaae2418585005$export$eb977ef7ffa021ce","id","$0eaaae2418585005$var$_FetchFilmId","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","marcup","respons","$5ciJU","addToLokalStorage","$aDyNI","markupBtnModalFilm","innerHTML","$952a15c298e5f2e9$var$onClouseModal","$gqyaY","refs","backdropEl","classList","add","bodyNoScrollEl","remove","$952a15c298e5f2e9$var$onClouseModalBackdrop","e","target","currentTarget","$952a15c298e5f2e9$var$creatKeydownEscape","code","bodyEl","removeEventListener","$952a15c298e5f2e9$var$onOpenModal","addEventListener","buttonCloseEl","$952a15c298e5f2e9$var$onEventListenerClick","$952a15c298e5f2e9$var$_onEventListenerClick","preventDefault","closest","$952a15c298e5f2e9$export$dbb79f87ff4e57c4","btn","$de0ca67025d10f24$var$openModalAuth","e1","modalCard","btnCloseModal","btnRegUsers","toggle","$de0ca67025d10f24$var$openModalReguser","e2","logIn","trendsControls","filmsGalleryEl","footerBtn"],"version":3,"file":"index.e19c2e0a.js.map"}