function e(e,t){return fetch(`https://api.themoviedb.org/3/trending/${t}?api_key=894ef72300682f1db325dae2afe3e7e2&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}function t(e,t){const n=e.results.map((({original_title:e,release_date:t,genre_ids:n,poster_path:i,id:o})=>{let r=a(n);r.length>2&&(r=r.slice(0,2),r.push("Other")),r=r.join(", ");const s=new Date(t),l=s.getFullYear();return`<div class="film-card">\n      <div class="film-card__img-box">\n        <a class="film-card__link link" href="">\n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/${i}"\n          alt=""\n          id="${o}"\n        />\n        </a></div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ${e}\n          </h2>\n          <p class="film-card__data film-card__item">\n            ${r} | ${l}\n          </p>\n        </div>\n      \n    </div>`})).join("");t.insertAdjacentHTML("beforeend",n)}let n=[];function i(){fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>{n=e.genres})).catch((e=>console.log(e)));e(1,"movie/week").then((e=>{t(e,document.querySelector(".films-gallery"))}))}function a(e){let t=[];return e.forEach((e=>{t.push(n.find((t=>t.id===e)).name)})),t.length>2&&(t=t.slice(0,2),t.push("Other")),t}let o={};const r=document.querySelector(".modal-card");async function s(e){var t;await(t=e,fetch(`https://api.themoviedb.org/3//movie/${t}?api_key=45074c10b8f2ea3914a60876b2d17a1a`).then((e=>{if(!e.ok)throw new Error(e.status);return console.log(e),e.json()}))).then((e=>(o=e,o))),console.log("return",o);const n=`<img class="modal-card__img"\n     src="https://www.themoviedb.org/t/p/w500/${(i=o).poster_path}"\n     alt=""\n     id=""\n    />\n    <div class="modal-card__info">\n     <h2>${i.title}</h2>\n     <ul>\n       <li class="list">Vote/Votes <div><span>${i.vote_average}</span>/<span>${i.vote_count}</span></div></li>\n       <li class="list">Popularity <span>${i.popularity}</span></li>\n       <li class="list">Original Title <span>${i.original_title}</span></li>\n     </ul>\n     <p>\n       <h3>About</h3>\n       <div>${i.overview}</div>\n     </p>\n     <button class="button">add to Watched</button>\n     <button class="button">add to queue</button>\n      </div>`;var i;return r.innerHTML=n}const l=document.querySelector(".backdrop"),c=(document.querySelector(".test"),document.querySelector(".modal__button")),d=document.querySelector("body"),u=document.querySelector("main");let h=0,m=0;function f(e){l.classList.add("is-hidden"),r.innerHTML=""}function p(e){e.target===e.currentTarget&&l.classList.add("is-hidden")}function v(e){l.classList.remove("is-hidden"),d.addEventListener("keydown",(function e(t){"Escape"===t.code&&(l.classList.add("is-hidden"),d.removeEventListener("keydown",e))}))}function _(e){e.preventDefault(),h=e.target,m=e.target.id,s(m),v()}i(),u.addEventListener("click",_),c.addEventListener("click",f),l.addEventListener("click",p);const g=document.querySelector(".header-btn__watched");console.log(g);
//# sourceMappingURL=index.6afcc345.js.map
