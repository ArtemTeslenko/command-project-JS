!function(){function e(e,n){return Object.keys(n).forEach((function(t){"default"===t||"__esModule"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})),e}function n(e){return fetch("".concat("https://api.themoviedb.org/3/trending/","movie/week?api_key=").concat("894ef72300682f1db325dae2afe3e7e2","&page=").concat(e)).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){return a(e)}))}var t=[];function r(){fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US").then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){t=e.genres})).catch((function(e){return console.log(e)})),n(1)}function c(e){var n=[];return e.forEach((function(e){n.push(t.find((function(n){return n.id===e})).name)})),n.length>2&&(n=n.slice(0,2)).push("Other"),n}function o(e){return e.map((function(e){var n=e.original_title,t=e.release_date,r=e.genre_ids,o=e.poster_path,i=c(r);i=i.join(", ");var a=new Date(t).getFullYear();return'<div class="film-card">\n      <div class="film-card__img-box">\n        <a class="film-card__link link" href="">\n        <img class="film-card__img"\n          src="https://www.themoviedb.org/t/p/w500/'.concat(o,'"\n          alt=""\n        />\n        </a></div>\n      \n        <div class="film-card__info">\n          <h2 class="film-card__name film-card__item">\n            ').concat(n,'\n          </h2>\n          <p class="film-card__data film-card__item">\n            ').concat(i," | ").concat(a,"\n          </p>\n        </div>\n      \n    </div>")})).join("")}var i=document.querySelector(".films-gallery");function a(e){var n=o(e.results);i.insertAdjacentHTML("beforeend",n)}document.querySelector("main");var d=document.querySelector(".modal");var u,s,l,f,m={};u=m,s="onClick",l=function(){return y},Object.defineProperty(u,s,{get:l,set:f,enumerable:!0,configurable:!0});var h=document.querySelector(".backdrop"),v=(document.querySelector(".test"),document.querySelector(".modal-button")),_=document.querySelector("body");function b(e){h.classList.add("is-hidden")}function g(e){e.target===e.currentTarget&&h.classList.add("is-hidden")}function p(e){e.preventDefault(),h.classList.remove("is-hidden"),_.addEventListener("keydown",(function e(n){"Escape"===n.code&&(h.classList.add("is-hidden"),_.removeEventListener("keydown",e))}))}function y(e){e.addEventListener("click",p),v.addEventListener("click",b),h.addEventListener("click",g)}e(m,{}),e(m,{});var k=document.querySelector(".test");y(),r(),y(k),d.insertAdjacentHTML("beforeend",'<button class="button">add to Watched</button>\n    <button class="button">add to queue</button>')}();
//# sourceMappingURL=index.c54513bf.js.map
