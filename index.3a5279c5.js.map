{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-927f1c5a610b421b.js","node_modules/@parcel/runtime-js/lib/runtime-da3b3a42d8e58988.js","node_modules/@parcel/runtime-js/lib/runtime-fdeb05b697c7d2fb.js","src/js/reference/homeRefs.js","src/js/requests/fetchFilmsTrends.js","src/js/customFunction/getGenreName.js","src/js/markup/trendfilmsMarkup.js","src/js/render/filmsTrendRender.js","src/js/customFunction/paginationBtnHidden.js","src/js/customFunction/pagination.js","src/js/controls/trendsControl.js","src/js/controls/scrollTop.js","src/js/reference/libraryRefs.js","src/js/modal/markupFilmForodal.js","src/js/modal/fetchFilmId.js","src/js/markup/markupBtnModalFilm.js","src/js/modal/commonModalOpen.js","src/js/requests/fetchGenreId.js","src/js/customFunction/functionCleanRender.js","src/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dWPdL\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1WDdE\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.3a5279c5.js\\\",\\\"dWPdL\\\":\\\"arrow-left.2b7bce11.svg\\\",\\\"1WDdE\\\":\\\"arrow-right.91990ac8.svg\\\"}\"));","export const refs = {\n  bodyEl: document.querySelector('body'),\n  mainEl: document.querySelector('main'),\n  logoEl: document.querySelector('.header-logo'),\n  backdropEl: document.querySelector('.backdrop'),\n  buttonCloseEl: document.querySelector('.modal__button'),\n  bodyNoScrollEl: document.querySelector('[data-nonScroll]'),\n\n  //------ Ganna K ------\n  galleryEl: document.querySelector('.films-gallery'),\n  paginationEl: document.querySelector('.pagination'),\n\n  scrollBtnEl: document.querySelector('.arrow-up'),\n  filmCardLinkEl: document.querySelector('.film-card__link'),\n  filmsGalleryEl: document.querySelector('.films-gallery'),\n  footerBtn: document.querySelector('.footer__btn'),\n};\n","// Это нужно для старого фетча. Для нового не нужно\nconst BASEURL = 'https://api.themoviedb.org/3/trending/';\nconst keyApi = '894ef72300682f1db325dae2afe3e7e2';\n\n// Новая функция. Создает ссылку\nexport function buildUrl(pageNumber, mediaType, time_window) {\n  const key = '894ef72300682f1db325dae2afe3e7e2';\n  const baseUrl = `https://api.themoviedb.org/3/trending/`;\n  // const mediaType = `movie`;\n  // const time_window = `day`;\n\n  return `${baseUrl}${mediaType}/${time_window}?api_key=${key}&page=${pageNumber}`;\n}\n// На всякий случай оставляю. Вдруг уже кто то использует\nexport function fetchFilmsTrends(page, urlPart) {\n  return fetch(`${BASEURL}${urlPart}?api_key=${keyApi}&page=${page}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }\n  );\n}\n// Я теперь использую этот. Но универсальней\nexport function fetchFilms(page, mediaType, time_window) {\n  return fetch(buildUrl(page, mediaType, time_window)).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import { genreIdArr } from '../controls/trendsControl';\n\nexport function getGenreName(genre_ids) {\n  let genreName = [];\n\n  genre_ids.forEach(genre_id => {\n    genreName.push(genreIdArr.find(genre => genre.id === genre_id).name);\n  });\n\n  return genreName;\n}\n","import { getGenreName } from '../customFunction/getGenreName';\n\nexport function createFilmMarkup(arrFilms) {\n  return arrFilms\n    .map(({ original_title, release_date, genre_ids, poster_path, id }) => {\n      let genres = getGenreName(genre_ids);\n\n      if (genres.length > 2) {\n        genres = genres.slice(0, 2);\n        genres.push('Other');\n      }\n      genres = genres.join(', ');\n\n      const date = new Date(release_date);\n      const yearRelease = date.getFullYear();\n      return `<div class=\"film-card\">\n      <a class=\"film-card__link link\" href=\"\" id=\"${id}\">\n      <div class=\"film-card__img-box\">\n        \n        <img class=\"film-card__img\"\n          src=\"https://www.themoviedb.org/t/p/w500/${poster_path}\"\n          alt=\"\"\n          \n        />\n        </div>\n      \n        <div class=\"film-card__info\">\n          <h2 class=\"film-card__name film-card__item\">\n            ${original_title}\n          </h2>\n          <p class=\"film-card__data film-card__item\">\n            ${genres} | ${yearRelease}\n          </p>\n        </div>\n      </a>\n    </div>`;\n    })\n    .join('');\n}\n","import { createFilmMarkup } from '../markup/trendfilmsMarkup';\n//const galleryEl = document.querySelector('.films-gallery');\nexport function filmsTrendRender(data, destinationEl) {\n  const imgMarkUp = createFilmMarkup(data.results);\n  destinationEl.insertAdjacentHTML('beforeend', imgMarkUp);\n}\n","import { refs } from '../reference/homeRefs';\nexport function paginationBtnHidden(page, totalPage) {\n  if (page < 6) {\n    if (refs.paginationEl.classList.contains('item--hidden-mob--2')) {\n      refs.paginationEl.classList.remove('item--hidden-mob--2');\n    }\n    if (refs.paginationEl.classList.contains('item--hidden-mob--3')) {\n      refs.paginationEl.classList.remove('item--hidden-mob--3');\n    }\n    refs.paginationEl.classList.add('item--hidden-mob--1');\n  }\n  if (page >= 6 && page <= totalPage - 5) {\n    if (refs.paginationEl.classList.contains('item--hidden-mob--1')) {\n      refs.paginationEl.classList.remove('item--hidden-mob--1');\n    }\n    if (refs.paginationEl.classList.contains('item--hidden-mob--3')) {\n      refs.paginationEl.classList.remove('item--hidden-mob--3');\n    }\n    refs.paginationEl.classList.add('item--hidden-mob--2');\n  }\n  if (page > totalPage - 5) {\n    if (refs.paginationEl.classList.contains('item--hidden-mob--1')) {\n      refs.paginationEl.classList.remove('item--hidden-mob--1');\n    }\n    if (refs.paginationEl.classList.contains('item--hidden-mob--2')) {\n      refs.paginationEl.classList.remove('item--hidden-mob--2');\n    }\n    refs.paginationEl.classList.add('item--hidden-mob--3');\n  }\n}\n","import { buildUrl } from '../requests';\nimport { paginationBtnHidden } from './paginationBtnHidden';\nexport function paginationRender(\n  totalPages,\n  currentPage,\n  mediaType,\n  time_window\n) {\n  let paginationArrBtn = [];\n  let paginationArrAtr = [];\n  let paginationLinks = '';\n\n  // ----- 1 Ver\n  if (currentPage <= 6) {\n    for (let i = 1; i <= 7; i++) {\n      paginationArrBtn.push(i);\n      paginationArrAtr.push(i);\n    }\n    paginationArrBtn.push('...');\n    paginationArrAtr.push(8);\n    paginationArrBtn.push(totalPages);\n    paginationArrAtr.push(totalPages);\n    paginationBtnHidden(currentPage, totalPages);\n  }\n  // --- 2 Ver\n  if (currentPage > 6 && currentPage < totalPages - 5) {\n    paginationArrBtn.push(1);\n    paginationArrAtr.push(1);\n    paginationArrBtn.push('...');\n    paginationArrAtr.push(currentPage - 3);\n    for (let i = currentPage - 2; i <= currentPage + 2; i++) {\n      paginationArrBtn.push(i);\n      paginationArrAtr.push(i);\n    }\n    paginationArrBtn.push('...');\n    paginationArrAtr.push(currentPage + 3);\n\n    paginationArrBtn.push(totalPages);\n    paginationArrAtr.push(totalPages);\n    paginationBtnHidden(currentPage, totalPages);\n  }\n\n  // ---- 3 Ver\n  if (currentPage >= totalPages - 5) {\n    paginationArrBtn.push(1);\n    paginationArrAtr.push(1);\n    paginationArrBtn.push('...');\n    paginationArrAtr.push(totalPages - 7);\n    for (let i = -6; i <= 0; i++) {\n      paginationArrBtn.push(totalPages + i);\n      paginationArrAtr.push(totalPages + i);\n      paginationBtnHidden(currentPage, totalPages);\n    }\n  }\n\n  let itemClass = 0;\n  paginationArrBtn.forEach(pageNumber => {\n    itemClass += 1;\n\n    let activeClass =\n      pageNumber === currentPage ? 'pagination__item--active' : '';\n\n    paginationLinks =\n      paginationLinks +\n      `<li class=\"pagination__item item${itemClass}\"><a data-page=\"${\n        paginationArrAtr[itemClass - 1]\n      }\" href=\"${buildUrl(\n        paginationArrAtr[itemClass - 1],\n        mediaType,\n        time_window\n      )}\" class=\"link pagination__link ${activeClass} \">${pageNumber}</a></li>`;\n  });\n  const arrowLeft = require(`../../images/arrow-left.svg`);\n  const arrowRight = require(`../../images/arrow-right.svg`);\n  return `<button class=\"btn--decrement\" data-page=\"${\n    currentPage - 1\n  }\" type=\"button\"><img src=\"${arrowLeft}\" data-page=\"${\n    currentPage - 1\n  }\" class=\"pagination__icon\"  width=\"20\" height=\"20\"\n      alt=\"selectedItem\"></button>\n        <div class=\"pagination__wrap\">\n        <ul class=\"pagination__list list\">\n        ${paginationLinks} </ul>\n        </div>\n         <button class=\"btn--increment\" data-page=\"${\n           currentPage + 1\n         }\" type=\"button\" >\n    <img src=\"${arrowRight}\" class=\"pagination__icon\" data-page=\"${\n    currentPage + 1\n  } \"width=\"20\" height=\"20\"></button>`;\n}\n","//import { fetchFilmsTrends } from '../requests';\nimport { refs } from '../reference/homeRefs';\nimport { fetchGenreId } from '../requests';\nimport { filmsTrendRender } from '../render/filmsTrendRender';\nimport { fetchFilms } from '../requests/fetchFilmsTrends';\nimport { cleanRender } from '../customFunction/functionCleanRender';\nimport { paginationRender } from '../customFunction/pagination';\n\nexport let genreIdArr = [];\n\n//-----------\n\nexport function trendsControls() {\n  let page = 1;\n\n  fetchGenreId()\n    .then(genreId => {\n      genreIdArr = genreId.genres;\n    })\n    .catch(error => console.log(error));\n  //------\n\n  fetchMovies(page);\n\n  //-----------\n  function fetchMovies(page) {\n    fetchFilms(page, 'movie', 'week').then(data => {\n      const destinationEl = refs.galleryEl;\n\n      filmsTrendRender(data, destinationEl);\n      let totalPage = data.total_pages;\n\n      if (totalPage > 1) {\n        const renderedPagination = paginationRender(\n          Number(data.total_pages),\n          Number(data.page),\n          'movie',\n          'week'\n        );\n        refs.paginationEl.innerHTML = renderedPagination;\n      }\n    });\n  }\n  //----------\n  refs.paginationEl.addEventListener('click', e => {\n    e.preventDefault();\n    cleanRender(refs.galleryEl);\n\n    fetchMovies(e.target.dataset.page);\n  });\n} // не трогать\n","import { refs } from '../reference/homeRefs';\nfunction onScrollShowArrow() {\n  if (window.scrollY > 700) {\n    refs.scrollBtnEl.classList.remove('isHiddenBtn');\n  } else if (window.scrollY < 700) {\n    refs.scrollBtnEl.classList.add('isHiddenBtn');\n  }\n}\nfunction onClickArrow() {\n  window.scrollTo(0, 0);\n}\n\nexport function scrollToTop() {\n  window.addEventListener('scroll', onScrollShowArrow);\n  refs.scrollBtnEl.addEventListener('click', onClickArrow);\n}\n","export const refs = {\n  loadMoreBtnEl: document.querySelector('.load-more-btn'),\n  bodyEl: document.querySelector('body'),\n  backdropEl: document.querySelector('.backdrop'),\n  buttonCloseEl: document.querySelector('.modal__button'),\n  bodyNoScrollEl: document.querySelector('[data-nonScroll]'),\n  filmCardLinkEl: document.querySelector('.film-card__link'),\n  filmsGalleryEl: document.querySelector('.films-gallery'),\n  footerBtn: document.querySelector('.footer__btn'),\n};\n","import { fetchFilmId } from './fetchFilmId';\nimport { markupBtnModalFilm } from '../markup';\n\nlet film = {};\nconst modalCardEl = document.querySelector('.modal-card');\n\nexport async function FetchFilmId(id) {\n  await fetchFilmId(id).then(respons => {\n    film = respons;\n    return film;\n  });\n\n  const marcup = markupBtnModalFilm(film);\n  return (modalCardEl.innerHTML = marcup);\n}\n\nexport function clianFilmCard() {\n  return (modalCardEl.innerHTML = '');\n}\n","const KEY = '45074c10b8f2ea3914a60876b2d17a1a';\nconst BASEURL = 'https://api.themoviedb.org/3/';\n\n\nexport function fetchFilmId(movie_id) {\n    const arrFilms = fetch(`${BASEURL}/movie/${movie_id}?api_key=${KEY}`)\nreturn arrFilms.then( response=> {\nif(!response.ok){\n    throw new Error(response.status)\n}\nreturn response.json();\n})\n}\n\n","import { FetchFilmId } from '../markup';\n\nexport function markupBtnModalFilm(film) {\n  return `<img class=\"modal-card__img\"\n     src=\"https://www.themoviedb.org/t/p/w500/${film.poster_path}\"\n     alt=\"\"\n     id=\"\"\n    />\n    <div class=\"modal-card__info\">\n     <h2>${film.title}</h2>\n     <div class=\"table\">\n     <ul class=\"table__parametr\">\n       <li class=\"list\">Vote/Votes </li>\n       <li class=\"list\">Popularity </li>\n       <li class=\"list\">Original Title </li>\n     </ul>\n         <ul class=\"table__value\">\n       <li class=\"list\"><span>${film.vote_average}</span>/<span>${film.vote_count}</span></li>\n       <li class=\"list\">${film.popularity}</li>\n       <li class=\"list\">${film.original_title}</li>\n     </ul>\n     </div>\n     <p>\n       <h3>About</h3>\n       <div>${film.overview}</div>\n     </p>\n     <button class=\"button\">add to Watched</button>\n     <button class=\"button\">add to queue</button>\n      </div>`;\n}\n","// import { testOnClickFetchFilmId } from '../modal'\nimport { refs } from '../../js/reference/homeRefs';\nimport { refs } from '../../js/reference/libraryRefs';\nimport { FetchFilmId } from '../modal';\nimport { clianFilmCard } from './markupFilmForodal';\n\nfunction onClouseModal(e) {\n  refs.backdropEl.classList.add('is-hidden');\n  refs.bodyNoScrollEl.classList.remove('no-scroll');\n  clianFilmCard();\n}\n\nfunction onClouseModalBackdrop(e) {\n  if (e.target === e.currentTarget) {\n    refs.backdropEl.classList.add('is-hidden');\n    refs.bodyNoScrollEl.classList.remove('no-scroll');\n  }\n  return;\n}\n\nfunction onOpenModal(e) {\n  refs.backdropEl.classList.remove('is-hidden');\n  refs.bodyEl.addEventListener('keydown', creatKeydownEscape);\n\n  refs.bodyNoScrollEl.classList.toggle('no-scroll');\n\n  refs.backdropEl.addEventListener('click', onClouseModalBackdrop);\n  refs.buttonCloseEl.addEventListener('click', onClouseModal);\n  function creatKeydownEscape(e) {\n    {\n      if (e.code === 'Escape') {\n      }\n      refs.backdropEl.classList.add('is-hidden');\n      refs.bodyEl.removeEventListener('keydown', creatKeydownEscape);\n    }\n  }\n}\n\nfunction onEventListenerClick(e) {\n  e.preventDefault();\n   if (e.target.closest('.film-card__link')) {\n    FetchFilmId(e.target.closest('.film-card__link').id);\n    onOpenModal();\n  }\n}\n\nexport function onClick(btn) {\n  btn.addEventListener('click', onOpenModal);\n}\n\nexport function onOpenModalFilm() {\n  refs.filmsGalleryEl.addEventListener('click', onEventListenerClick);\n}\n","export function fetchGenreId() {\n  return fetch(\n    'https://api.themoviedb.org/3/genre/movie/list?api_key=894ef72300682f1db325dae2afe3e7e2&language=en-US'\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n}\n","export function cleanRender(element) {\n  element.innerHTML = '';\n}\n","import { refs } from './js/reference/homeRefs.js';\nimport { trendsControls } from './js/controls';\nimport { onOpenModalFilm } from './js/modal';\nimport { onClick } from './js/modal';\nimport { scrollToTop } from './js/controls';\n\ntrendsControls();\nonOpenModalFilm();\nonClick(refs.footerBtn);\nscrollToTop();\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","URL","parcelRequire","resolve","import","meta","url","toString","register","JSON","parse","$a111eb1c0b418884$export$21666b427502ea6d","bodyEl","document","querySelector","mainEl","logoEl","backdropEl","buttonCloseEl","bodyNoScrollEl","galleryEl","paginationEl","scrollBtnEl","filmCardLinkEl","filmsGalleryEl","footerBtn","$801e7836fea51ee6$export$b5cd97dee32de81d","pageNumber","mediaType","time_window","$801e7836fea51ee6$export$651946d2de0aa03","page","fetch","then","response","ok","status","json","$708087666b1a495c$export$e1e489d92e562b7b","genre_ids","genreName","forEach","genre_id","push","$25176f203a4c7d2e$export$88c94c87660d44ec","find","genre","name","$19aedebb0ec4ed46$export$34f980816dd5ca83","arrFilms","map","original_title","release_date","poster_path","genres","slice","join","Date","getFullYear","$0ff80bc424f467fe$export$e034e57e3a7a732f","data","destinationEl","imgMarkUp","results","insertAdjacentHTML","$b07bafef7749c3ed$export$ff7cf5e0f415b90e","totalPage","classList","contains","remove","add","$ebdd7766be2eb3f0$export$5fcd9471792c11c9","totalPages","currentPage","paginationArrBtn","paginationArrAtr","paginationLinks","itemClass","activeClass","arrowLeft","arrowRight","$231c2349526b2ef9$var$onScrollShowArrow","window","scrollY","$231c2349526b2ef9$var$onClickArrow","scrollTo","$c18020990ddcde5d$export$21666b427502ea6d","loadMoreBtnEl","$61c079253e998c44$var$film","$61c079253e998c44$var$modalCardEl","async","$61c079253e998c44$export$eb977ef7ffa021ce","movie_id","respons","marcup","film","title","vote_average","vote_count","popularity","overview","innerHTML","$008b226b4f7cc992$var$onClouseModal","e","$008b226b4f7cc992$var$onClouseModalBackdrop","target","currentTarget","$008b226b4f7cc992$var$onOpenModal","e1","addEventListener","creatKeydownEscape","code","removeEventListener","toggle","$008b226b4f7cc992$var$onEventListenerClick","preventDefault","closest","fetchMovies","total_pages","renderedPagination","Number","genreId","catch","error","console","log","dataset"],"version":3,"file":"index.3a5279c5.js.map"}